<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="SurveySolutionsAPI">
<title>Introduction To the Survey Solutions API package • SurveySolutionsAPI</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Introduction To the Survey Solutions API package">
<meta property="og:description" content="SurveySolutionsAPI">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">SurveySolutionsAPI</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.6.4</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/Assignments.html">Assignment Management</a>
    <a class="dropdown-item" href="../articles/Introduction.html">Introduction To the Survey Solutions API package</a>
    <a class="dropdown-item" href="../articles/Maps.html">Maps Management</a>
    <a class="dropdown-item" href="../articles/Users.html">User Management</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Introduction To the Survey Solutions API package</h1>
                        <h4 data-toc-skip class="author">Michael
Wild</h4>
            
            <h4 data-toc-skip class="date">2023-02-16</h4>
      
      
      <div class="d-none name"><code>Introduction.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="why-this-package">Why this package<a class="anchor" aria-label="anchor" href="#why-this-package"></a>
</h2>
<p>The World Bank’s Computer Assisted Survey System (CASS)
<strong>Survey Solutions</strong> is a powerful tool for high quality
data collection and used in many statistical offices around the world.
Besides the standard GUI, it also comes with a powerful REST API. For
details see <a href="https://support.mysurvey.solutions/" class="external-link">https://support.mysurvey.solutions/</a></p>
<p>To further facilitate its integration in a fully automated workflow
we have developed this R package, which covers almost all of the
available API calls. With this vignette you get a first overview on the
different functions, further vignettes are available on survey
management, paradata analysis and shiny integration.</p>
<p>The package can be considered as being a API “bare bone”, as it
implements the basic <a href="https://demo.mysurvey.solutions//apidocs/index#!" class="external-link">Survey Solutions
API</a> calls without substantial modification. However, this is not
true for the data export function as well as for the paradata.
Modification was necessary to facilitate workflow integration. See the
details in the corresponding documentation.</p>
<p>Please be aware, that this package makes heavy use of data.table, and
this is also continued in this vignette. In case you are not familiar
with it yet, you should probably have a look a this <a href="https://cran.r-project.org/web/packages/data.table/vignettes/datatable-intro.html" class="external-link">introduction</a>.</p>
</div>
<div class="section level2">
<h2 id="api-credentials">API credentials<a class="anchor" aria-label="anchor" href="#api-credentials"></a>
</h2>
<p>To use the API you first need to set-up the API user on your Survey
Solutions server. See <a href="https://support.mysurvey.solutions/headquarters/api/" class="external-link">here</a> for
details. After this done, you can use the <em>suso_set_key()</em>
function, to provide your credentials.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://michael-cw.github.io/SurveySolutionsAPI/">SurveySolutionsAPI</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/suso_clear_keys.html">suso_clear_keys</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/suso_set_key.html">suso_set_key</a></span><span class="op">(</span><span class="st">"https://xxx.mysurvey.solutions"</span>, <span class="st">"xxxxxx"</span>, <span class="st">"xxxxxxx"</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/suso_keys.html">suso_keys</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; $suso</span></span>
<span><span class="co">#&gt; $suso$susoServer</span></span>
<span><span class="co">#&gt; [1] "https://xxx.mysurvey.solutions"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $suso$susoUser</span></span>
<span><span class="co">#&gt; [1] "xxxxxx"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $suso$susoPass</span></span>
<span><span class="co">#&gt; [1] "xxxxxxx"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; attr(,"class")</span></span>
<span><span class="co">#&gt; [1] "suso_api"</span></span></code></pre></div>
<p>After this is done, there is no need to provide the credentials for
every API call again. They are stored until the end of your current
session. There is also a function to check if your credentials work.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/suso_PwCheck.html">suso_PwCheck</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "https://michael-wild-demo.mysurvey.solutions/primary/api/v1/supervisors?limit=200"</span></span>
<span><span class="co">#&gt; Response [https://michael-wild-demo.mysurvey.solutions/primary/api/v1/supervisors?limit=200]</span></span>
<span><span class="co">#&gt;   Date: 2023-02-16 17:24</span></span>
<span><span class="co">#&gt;   Status: 200</span></span>
<span><span class="co">#&gt;   Content-Type: application/json; charset=utf-8</span></span>
<span><span class="co">#&gt;   Size: 482 B</span></span></code></pre></div>
<p>In case no workspace is provided, this call (like all the other
calls) will default to the primary workspace. However if a workspace is
provided, then the check will be performed on the provided
workspace.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/suso_PwCheck.html">suso_PwCheck</a></span><span class="op">(</span>workspace <span class="op">=</span> <span class="st">"test"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "https://michael-wild-demo.mysurvey.solutions/test/api/v1/supervisors?limit=200"</span></span>
<span><span class="co">#&gt; Response [https://michael-wild-demo.mysurvey.solutions/test/api/v1/supervisors?limit=200]</span></span>
<span><span class="co">#&gt;   Date: 2023-02-16 17:24</span></span>
<span><span class="co">#&gt;   Status: 200</span></span>
<span><span class="co">#&gt;   Content-Type: application/json; charset=utf-8</span></span>
<span><span class="co">#&gt;   Size: 4.54 kB</span></span></code></pre></div>
<p>It calls the supervisor API, and returns the response. If the return
value is 200, then your connection and credentials are OK. For further
information on API response status codes have a look here: <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status" class="external-link uri">https://developer.mozilla.org/en-US/docs/Web/HTTP/Status</a>.</p>
</div>
<div class="section level2">
<h2 id="workspace-management">Workspace Management<a class="anchor" aria-label="anchor" href="#workspace-management"></a>
</h2>
<p>You can also manage your workspaces through the API. In particular,
you can</p>
<ul>
<li>request a list of all workspaces the API user has access to, as well
as</li>
<li>create new workspaces</li>
<li>and assign users to a particular workspace.</li>
</ul>
<p>However for the latter two operations you require ADMIN credentials.
Standard API user credentials would not work.</p>
<p>To receive a list of workspaces to which the current API user has
access to, you can just run:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ws</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/suso_getWorkspace.html">suso_getWorkspace</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">ws</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;       Name       DisplayName DisabledAtUtc</span></span>
<span><span class="co">#&gt; 1: primary Default Workspace            NA</span></span>
<span><span class="co">#&gt; 2:    test              test            NA</span></span>
<span><span class="co">#&gt; 3:   test2             test2            NA</span></span></code></pre></div>
<p>To receive a list of all workspaces in the system (even those to
which the current API user does not have access to) you can do the same,
and use the ADMIN password:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ws</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/suso_getWorkspace.html">suso_getWorkspace</a></span><span class="op">(</span>apiUser <span class="op">=</span> <span class="va">adminUser</span>, apiPass <span class="op">=</span> <span class="va">adminPass</span><span class="op">)</span></span>
<span><span class="co">#&gt; Error in stopifnot(is.character(user), length(user) == 1): object 'adminUser' not found</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">ws</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;       Name       DisplayName DisabledAtUtc</span></span>
<span><span class="co">#&gt; 1: primary Default Workspace            NA</span></span>
<span><span class="co">#&gt; 2:    test              test            NA</span></span>
<span><span class="co">#&gt; 3:   test2             test2            NA</span></span></code></pre></div>
<p>For the next two operations, the use of admin credentials is
mandatory, they will not work with a standard API user. The first one of
these two is the creation of a new workspace:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ws</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/suso_createWorkspace.html">suso_createWorkspace</a></span><span class="op">(</span>apiUser <span class="op">=</span> <span class="va">adminUser</span>, apiPass <span class="op">=</span> <span class="va">adminPass</span>, your_workspace <span class="op">=</span> <span class="st">"test"</span>, new_workspace <span class="op">=</span> <span class="st">"test11"</span>, displayName <span class="op">=</span> <span class="st">"ExtraExtraWorkspace"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Error in stopifnot(is.character(user), length(user) == 1): object 'adminUser' not found</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">ws</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;       Name       DisplayName DisabledAtUtc</span></span>
<span><span class="co">#&gt; 1: primary Default Workspace            NA</span></span>
<span><span class="co">#&gt; 2:    test              test            NA</span></span>
<span><span class="co">#&gt; 3:   test2             test2            NA</span></span></code></pre></div>
<p>The return value from the function already tells you, that the new
workspace has been successfully created, however to double check, you
can also get the full list again:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ws</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/suso_getWorkspace.html">suso_getWorkspace</a></span><span class="op">(</span>apiUser <span class="op">=</span> <span class="va">adminUser</span>, apiPass <span class="op">=</span> <span class="va">adminPass</span><span class="op">)</span></span>
<span><span class="co">#&gt; Error in stopifnot(is.character(user), length(user) == 1): object 'adminUser' not found</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">ws</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;       Name       DisplayName DisabledAtUtc</span></span>
<span><span class="co">#&gt; 1: primary Default Workspace            NA</span></span>
<span><span class="co">#&gt; 2:    test              test            NA</span></span>
<span><span class="co">#&gt; 3:   test2             test2            NA</span></span></code></pre></div>
<p>Finally you can also assign a new user to this workspace by using the
<strong>suso_assignWorkspace</strong> function.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ws</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/suso_assignWorkspace.html">suso_assignWorkspace</a></span><span class="op">(</span>your_workspace <span class="op">=</span> <span class="st">"test"</span>, assign_workspace <span class="op">=</span> <span class="st">"test11"</span>, apiUser <span class="op">=</span> <span class="va">adminUser</span>, apiPass <span class="op">=</span> <span class="va">adminPass</span>, uid <span class="op">=</span> <span class="st">"34c2bc7b-ec33-473b-875b-dc06d269fced"</span>, sv_id <span class="op">=</span> <span class="st">"34c2bc7b-ec33-473b-875b-dc06d269fced"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Error in stopifnot(is.character(user), length(user) == 1): object 'adminUser' not found</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">ws</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;       Name       DisplayName DisabledAtUtc</span></span>
<span><span class="co">#&gt; 1: primary Default Workspace            NA</span></span>
<span><span class="co">#&gt; 2:    test              test            NA</span></span>
<span><span class="co">#&gt; 3:   test2             test2            NA</span></span></code></pre></div>
<p>Further details on workspaces can be found in the dedicated vignette
on user management.</p>
</div>
<div class="section level2">
<h2 id="user-management">User Management<a class="anchor" aria-label="anchor" href="#user-management"></a>
</h2>
<p>These functions are particularly useful for survey management, and
more details can be found in the corresponding vignette on survey
management. Lets start with getting a list of all supervisors on the
server.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sv</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/suso_getSV.html">suso_getSV</a></span><span class="op">(</span>workspace <span class="op">=</span> <span class="st">"test"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">sv</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;    IsLocked        CreationDate                               UserId   UserName</span></span>
<span><span class="co">#&gt; 1:    FALSE 2023-02-07 17:33:40 00d21677-0331-4698-ae7b-908aeac14dd6 somesvuser</span></span>
<span><span class="co">#&gt; 2:    FALSE 2023-02-04 19:05:10 ded27a4a-716d-4bf2-8d54-aedc31fc164b     SV0001</span></span>
<span><span class="co">#&gt; 3:    FALSE 2023-02-04 19:36:03 5753ddde-3c7d-438f-9934-43fdf18fa802     SV0002</span></span>
<span><span class="co">#&gt; 4:    FALSE 2023-02-04 19:36:03 72196c84-8f2f-488a-8d61-f23b8b998d43     SV0003</span></span>
<span><span class="co">#&gt; 5:    FALSE 2023-02-04 19:36:03 1a9d4b10-c92d-401d-af69-2a7d0a391fe6     SV0004</span></span>
<span><span class="co">#&gt; 6:    FALSE 2023-02-04 19:36:03 97e9e4ff-22e1-492f-a102-03c2115903e7     SV0005</span></span></code></pre></div>
<p>Your will receive a list of supervisors currently active (not
archived) on the server. If you take one of the supervisor’s <em>id</em>
and use the <em>suso_getINT</em> function, you will receive all the
interviewers in the team.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">int</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/suso_getINT.html">suso_getINT</a></span><span class="op">(</span>sv_id <span class="op">=</span> <span class="va">sv</span><span class="op">[</span><span class="fl">3</span>, <span class="va">UserId</span><span class="op">]</span>, workspace <span class="op">=</span> <span class="st">"test"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">int</span><span class="op">)</span></span>
<span><span class="co">#&gt;    IsLocked        CreationDate                               UserId UserName</span></span>
<span><span class="co">#&gt; 1:    FALSE 2023-02-04 19:36:03 14ee97f1-ae8d-44f5-8a30-4c3617f03002  INT0012</span></span>
<span><span class="co">#&gt; 2:    FALSE 2023-02-04 19:36:03 4a1d5b37-2db1-448c-adc2-0a26379956fe  INT0013</span></span></code></pre></div>
<p>To receive more information about a particular user, use the
<em>suso_getINT_info</em> function:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">intinfo</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/suso_getINT_info.html">suso_getINT_info</a></span><span class="op">(</span>int_id <span class="op">=</span> <span class="va">int</span><span class="op">[</span><span class="fl">1</span>, <span class="va">UserId</span><span class="op">]</span>, workspace <span class="op">=</span> <span class="st">"test"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">intinfo</span><span class="op">)</span></span>
<span><span class="co">#&gt;    SupervisorName                         SupervisorId IsLockedBySupervisor IsLockedByHeadquarters IsArchived                               UserId UserName        Role IsLocked</span></span>
<span><span class="co">#&gt; 1:         SV0002 5753ddde-3c7d-438f-9934-43fdf18fa802                FALSE                  FALSE      FALSE 14ee97f1-ae8d-44f5-8a30-4c3617f03002  INT0012 Interviewer    FALSE</span></span>
<span><span class="co">#&gt;           CreationDate      FullName</span></span>
<span><span class="co">#&gt; 1: 2023-02-04 19:36:03 Ashlie Spinka</span></span></code></pre></div>
<p>To get information about any particular user, you can also use the
more general function <em>suso_getUSR</em>.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">usrinfo_int</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/suso_getUSR.html">suso_getUSR</a></span><span class="op">(</span>uid <span class="op">=</span> <span class="va">sv</span><span class="op">[</span><span class="fl">3</span>, <span class="va">UserId</span><span class="op">]</span>, workspace <span class="op">=</span> <span class="st">"test"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">usrinfo_int</span><span class="op">)</span></span>
<span><span class="co">#&gt;    IsArchived                               UserId UserName       Role IsLocked        CreationDate       FullName</span></span>
<span><span class="co">#&gt; 1:      FALSE 5753ddde-3c7d-438f-9934-43fdf18fa802   SV0002 Supervisor    FALSE 2023-02-04 19:36:03 Isidro Dach II</span></span>
<span></span>
<span><span class="va">usrinfo_int</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/suso_getUSR.html">suso_getUSR</a></span><span class="op">(</span>uid <span class="op">=</span> <span class="va">int</span><span class="op">[</span><span class="fl">1</span>, <span class="va">UserId</span><span class="op">]</span>, workspace <span class="op">=</span> <span class="st">"test"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">usrinfo_int</span><span class="op">)</span></span>
<span><span class="co">#&gt;    IsArchived                               UserId UserName        Role IsLocked        CreationDate      FullName</span></span>
<span><span class="co">#&gt; 1:      FALSE 14ee97f1-ae8d-44f5-8a30-4c3617f03002  INT0012 Interviewer    FALSE 2023-02-04 19:36:03 Ashlie Spinka</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="questionnaire">Questionnaire<a class="anchor" aria-label="anchor" href="#questionnaire"></a>
</h2>
<p>The basic questionnaire API calls are handled through the
<em>suso_getQuestDetails</em> function.</p>
<p>If no input is provided, the function returns a list of all
questionnaires on the server:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">questlist</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/suso_getQuestDetails.html">suso_getQuestDetails</a></span><span class="op">(</span>workspace <span class="op">=</span> <span class="st">"test"</span><span class="op">)</span></span>
<span><span class="co"># print(questlist)</span></span></code></pre></div>
<p>Specifying <em>operation.type = status</em>, you receive a list of
statuses.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">statlist</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/suso_getQuestDetails.html">suso_getQuestDetails</a></span><span class="op">(</span>operation.type <span class="op">=</span> <span class="st">"statuses"</span>, workspace <span class="op">=</span> <span class="st">"test"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">statlist</span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1] "Restored"               "Created"                "SupervisorAssigned"     "InterviewerAssigned"    "RejectedBySupervisor"   "ReadyForInterview"      "SentToCapi"            </span></span>
<span><span class="co">#&gt;  [8] "Restarted"              "Completed"              "ApprovedBySupervisor"   "RejectedByHeadquarters" "ApprovedByHeadquarters" "Deleted"</span></span></code></pre></div>
<p>By taking a particular <em>QuestionnaireId</em> and specifying the
<em>operation.type </em>you can execute further requests. For
example,</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">questionnaire</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/suso_getQuestDetails.html">suso_getQuestDetails</a></span><span class="op">(</span>operation.type <span class="op">=</span> <span class="st">"structure"</span>, workspace <span class="op">=</span> <span class="st">"test"</span>, quid <span class="op">=</span> <span class="va">questlist</span><span class="op">[</span><span class="fl">1</span>, <span class="va">QuestionnaireId</span><span class="op">]</span>, version <span class="op">=</span> <span class="va">questlist</span><span class="op">[</span><span class="fl">1</span>, <span class="va">Version</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="va">questionnaire</span> <span class="op">&lt;-</span> <span class="va">questionnaire</span><span class="op">[</span>, <span class="fu">.</span><span class="op">(</span><span class="va">VariableName</span>, <span class="va">type</span>, <span class="va">QuestionText</span>, <span class="va">Featured</span>, <span class="va">PublicKey</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="co">#&gt; Error in .(VariableName, type, QuestionText, Featured, PublicKey): could not find function "."</span></span>
<span><span class="va">questionnaire</span> <span class="op">&lt;-</span> <span class="va">questionnaire</span><span class="op">[</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">QuestionText</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="co">#&gt; Error in eval(expr, envir, enclos): object 'QuestionText' not found</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">questionnaire</span><span class="op">$</span><span class="va">q</span>, <span class="fl">19L</span><span class="op">)</span></span>
<span><span class="co">#&gt;                                   Id               LastEntryDate L0                  type                            PublicKey                  Title L1    VariableName QuestionScope</span></span>
<span><span class="co">#&gt;  1: dee7705fd6114b129b972b8e5b80c4ea 2022-07-15T17:56:56.4811273  1                 Group c46ee895-0e6e-4063-8136-31e6bfa7c3f8                  COVER NA            &lt;NA&gt;            NA</span></span>
<span><span class="co">#&gt;  2: dee7705fd6114b129b972b8e5b80c4ea 2022-07-15T17:56:56.4811273  2                 Group fdeaf889-ba80-89c5-6d60-8c1b1196ebe5               DWELLING NA            &lt;NA&gt;            NA</span></span>
<span><span class="co">#&gt;  3: dee7705fd6114b129b972b8e5b80c4ea 2022-07-15T17:56:56.4811273  3                 Group 1f949736-beb1-dd10-6451-561b7799c99c RESULTS AND CONCLUSION NA            &lt;NA&gt;            NA</span></span>
<span><span class="co">#&gt;  4:                             &lt;NA&gt;                        &lt;NA&gt;  1          TextQuestion 59e2b882-0b67-78cf-d08a-0760e98d5157                   &lt;NA&gt;  1             q01             0</span></span>
<span><span class="co">#&gt;  5:                             &lt;NA&gt;                        &lt;NA&gt;  1          TextQuestion 95c9e53e-6603-a96e-0dee-ce0584076a16                   &lt;NA&gt;  2             q02             0</span></span>
<span><span class="co">#&gt;  6:                             &lt;NA&gt;                        &lt;NA&gt;  1          TextQuestion 4af6c880-658a-b610-53fc-4a2bdd5cfe2c                   &lt;NA&gt;  3             q03             0</span></span>
<span><span class="co">#&gt;  7:                             &lt;NA&gt;                        &lt;NA&gt;  1          TextQuestion 0dd2cbb5-1617-fb3b-1494-394ec4aceb4c                   &lt;NA&gt;  4             q04             0</span></span>
<span><span class="co">#&gt;  8:                             &lt;NA&gt;                        &lt;NA&gt;  1          TextQuestion 4c20c6f7-ff1b-8884-3b7b-cb7c42f23396                   &lt;NA&gt;  5             q05             0</span></span>
<span><span class="co">#&gt;  9:                             &lt;NA&gt;                        &lt;NA&gt;  1        SingleQuestion 3870444e-932a-676b-c109-7cb8b22e1520                   &lt;NA&gt;  6             q06             0</span></span>
<span><span class="co">#&gt; 10:                             &lt;NA&gt;                        &lt;NA&gt;  1          TextQuestion 1f328d26-2264-f86a-bd62-9d69ed0e6010                   &lt;NA&gt;  7             q07             0</span></span>
<span><span class="co">#&gt; 11:                             &lt;NA&gt;                        &lt;NA&gt;  1          TextQuestion 426d51a2-4ecb-9256-4074-2d711a8ff273                   &lt;NA&gt;  8             q08             0</span></span>
<span><span class="co">#&gt; 12:                             &lt;NA&gt;                        &lt;NA&gt;  1          TextQuestion 60068eee-c5c6-738c-235d-d0d540bebf8a                   &lt;NA&gt;  9             q09             0</span></span>
<span><span class="co">#&gt; 13:                             &lt;NA&gt;                        &lt;NA&gt;  1 GpsCoordinateQuestion 09024983-6bc6-9ad7-bdc7-cdb6864d1292                   &lt;NA&gt; 10             q10             0</span></span>
<span><span class="co">#&gt; 14:                             &lt;NA&gt;                        &lt;NA&gt;  2            StaticText 4d34d956-8a7a-eb0b-a0e8-00a9648a6cc0                   &lt;NA&gt;  1                            NA</span></span>
<span><span class="co">#&gt; 15:                             &lt;NA&gt;                        &lt;NA&gt;  2       NumericQuestion 1d4e607d-50fb-4d3e-20c6-b4a35a3f5bc8                   &lt;NA&gt;  2      northBound             3</span></span>
<span><span class="co">#&gt; 16:                             &lt;NA&gt;                        &lt;NA&gt;  2       NumericQuestion 256085f2-2725-e8d2-2475-14e4a9c6cc62                   &lt;NA&gt;  3      southBound             3</span></span>
<span><span class="co">#&gt; 17:                             &lt;NA&gt;                        &lt;NA&gt;  2       NumericQuestion 2ca4ef6b-46db-6f89-0527-98fb5605c6d3                   &lt;NA&gt;  4       eastBound             3</span></span>
<span><span class="co">#&gt; 18:                             &lt;NA&gt;                        &lt;NA&gt;  2       NumericQuestion 0df2ac09-c7d2-e1d6-3b5c-0beadf69e218                   &lt;NA&gt;  5       westBound             3</span></span>
<span><span class="co">#&gt; 19:                             &lt;NA&gt;                        &lt;NA&gt;  2       NumericQuestion fbbaad6d-c38e-8bf1-56e9-f325ff37d6ae                   &lt;NA&gt;  6 subCellsDivisor             3</span></span>
<span><span class="co">#&gt;                                          QuestionText Featured L2     ..JSON  intID</span></span>
<span><span class="co">#&gt;  1:                                              &lt;NA&gt;       NA NA &lt;list[16]&gt; 01NANA</span></span>
<span><span class="co">#&gt;  2:                                              &lt;NA&gt;       NA NA &lt;list[16]&gt; 02NANA</span></span>
<span><span class="co">#&gt;  3:                                              &lt;NA&gt;       NA NA &lt;list[16]&gt; 03NANA</span></span>
<span><span class="co">#&gt;  4:                                       *1.Province     TRUE NA &lt;list[17]&gt; 0101NA</span></span>
<span><span class="co">#&gt;  5:                                *2. Territory/City     TRUE NA &lt;list[17]&gt; 0102NA</span></span>
<span><span class="co">#&gt;  6:                                   *3. Health zone     TRUE NA &lt;list[17]&gt; 0103NA</span></span>
<span><span class="co">#&gt;  7:                                    4. Health area     TRUE NA &lt;list[17]&gt; 0104NA</span></span>
<span><span class="co">#&gt;  8:                              *5. Grid cell number     TRUE NA &lt;list[18]&gt; 0105NA</span></span>
<span><span class="co">#&gt;  9:                                6. Sub cell number     TRUE NA &lt;list[19]&gt; 0106NA</span></span>
<span><span class="co">#&gt; 10: 7. Urban commune/ Rural commune/ Sector/ Chiefdom     TRUE NA &lt;list[17]&gt; 0107NA</span></span>
<span><span class="co">#&gt; 11:                                       8. Grouping     TRUE NA &lt;list[17]&gt; 0108NA</span></span>
<span><span class="co">#&gt; 12:                                9. Village/Quarter     TRUE NA &lt;list[17]&gt; 0109NA</span></span>
<span><span class="co">#&gt; 13:             *10. GPS Coordinates of the Grid Cell     TRUE NA &lt;list[17]&gt; 0110NA</span></span>
<span><span class="co">#&gt; 14:                                              &lt;NA&gt;       NA NA  &lt;list[9]&gt; 0201NA</span></span>
<span><span class="co">#&gt; 15:                                 *~ North boundary    FALSE NA &lt;list[20]&gt; 0202NA</span></span>
<span><span class="co">#&gt; 16:                                 *~ South boundary    FALSE NA &lt;list[20]&gt; 0203NA</span></span>
<span><span class="co">#&gt; 17:                                  *~ East boundary    FALSE NA &lt;list[20]&gt; 0204NA</span></span>
<span><span class="co">#&gt; 18:                                  *~ West boundary    FALSE NA &lt;list[20]&gt; 0205NA</span></span>
<span><span class="co">#&gt; 19:                               *~ Sub-cell divider    FALSE NA &lt;list[19]&gt; 0206NA</span></span></code></pre></div>
<p>Gives you a data.table which contains all the questions, question
texts, etc. which you can use for further processing i.e to render a
user manual with rmarkdown. Find details in the manual on questionnaire
creation.</p>
<p>You can also get a list of all interviews done for the specific
questionnaire.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">interviews</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/suso_getQuestDetails.html">suso_getQuestDetails</a></span><span class="op">(</span>operation.type <span class="op">=</span> <span class="st">"interviews"</span>, workspace <span class="op">=</span> <span class="st">"test"</span>, quid <span class="op">=</span> <span class="va">questlist</span><span class="op">[</span><span class="fl">1</span>, <span class="va">QuestionnaireId</span><span class="op">]</span>, version <span class="op">=</span> <span class="va">questlist</span><span class="op">[</span><span class="fl">1</span>, <span class="va">Version</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="va">interviews</span> <span class="op">&lt;-</span> <span class="va">interviews</span><span class="op">[</span>, <span class="fu">.</span><span class="op">(</span><span class="va">InterviewId</span>, <span class="va">AssignmentId</span>, <span class="va">ResponsibleId</span>, <span class="va">ErrorsCount</span>, <span class="va">Status</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">interviews</span>, <span class="fl">20L</span><span class="op">)</span></span>
<span><span class="co">#&gt;                              InterviewId AssignmentId                        ResponsibleId ErrorsCount               Status</span></span>
<span><span class="co">#&gt;  1: 7d91c038-e258-4948-a7a2-566cda5b4dc5            1 3b0c6e09-d606-4914-9e20-2abc048d5bea           0 ApprovedBySupervisor</span></span>
<span><span class="co">#&gt;  2: 343da912-5a9f-4875-821b-6f0e1440150b           48 a67d2b82-bf28-40cf-bd1a-7901225c0885           0 RejectedBySupervisor</span></span>
<span><span class="co">#&gt;  3: a9620548-b1d8-418c-9c1f-a0d64031968a          234 3b0c6e09-d606-4914-9e20-2abc048d5bea           0 RejectedBySupervisor</span></span>
<span><span class="co">#&gt;  4: 79202304-8ba6-4c87-b45a-3f56529fc6e4          235 366cb1f7-30fa-48bf-9b56-ffa4ec8b0861           0 RejectedBySupervisor</span></span>
<span><span class="co">#&gt;  5: 7d04a07e-5c99-44f6-974f-531d8ed5a560          239 366cb1f7-30fa-48bf-9b56-ffa4ec8b0861           0  InterviewerAssigned</span></span>
<span><span class="co">#&gt;  6: ea10292e-7ac6-4fa3-bf82-d4d24fee98ba            1 a67d2b82-bf28-40cf-bd1a-7901225c0885           0            Completed</span></span>
<span><span class="co">#&gt;  7: 1d9305db-2be3-44d6-baf2-cf560a9ff45d            1 a67d2b82-bf28-40cf-bd1a-7901225c0885           0            Completed</span></span>
<span><span class="co">#&gt;  8: 782d1652-c6f5-4d02-882e-e372e97dfa83            1 a67d2b82-bf28-40cf-bd1a-7901225c0885           0            Completed</span></span>
<span><span class="co">#&gt;  9: 8621b894-43bd-4e4e-bfa3-0e67cdf5abb8            1 a67d2b82-bf28-40cf-bd1a-7901225c0885           0            Completed</span></span>
<span><span class="co">#&gt; 10: beeb70f4-ea94-4eb7-af5c-bc15abcfa9ed            1 a67d2b82-bf28-40cf-bd1a-7901225c0885           0            Completed</span></span>
<span><span class="co">#&gt; 11: 90badf8a-199a-4247-94a9-51a14bf308fa            1 a67d2b82-bf28-40cf-bd1a-7901225c0885           1            Completed</span></span>
<span><span class="co">#&gt; 12: d63ced87-589b-4316-8e8f-e247c4779877            1 a67d2b82-bf28-40cf-bd1a-7901225c0885           1            Completed</span></span>
<span><span class="co">#&gt; 13: 43045bd2-325c-4649-81b3-4f1841048034            1 a67d2b82-bf28-40cf-bd1a-7901225c0885           1            Completed</span></span>
<span><span class="co">#&gt; 14: 1054b136-c94f-4851-b8c2-ca4e003f4358            1 a67d2b82-bf28-40cf-bd1a-7901225c0885           1            Completed</span></span>
<span><span class="co">#&gt; 15: a43b0480-8fdb-4d43-b6fe-29420bf8eb71            1 a67d2b82-bf28-40cf-bd1a-7901225c0885           0            Completed</span></span>
<span><span class="co">#&gt; 16: 2f829f02-c844-439b-88a2-326b98412204            1 a67d2b82-bf28-40cf-bd1a-7901225c0885           1            Completed</span></span>
<span><span class="co">#&gt; 17: 0dc4f8a1-d740-440f-bdc6-2e34df997d00            1 a67d2b82-bf28-40cf-bd1a-7901225c0885           1            Completed</span></span>
<span><span class="co">#&gt; 18: ccc03ee9-1974-4356-98f0-648e0395e932            1 a67d2b82-bf28-40cf-bd1a-7901225c0885           1            Completed</span></span>
<span><span class="co">#&gt; 19: a02bd8fa-e048-43f2-88ad-f5e43c2cc67b            1 a67d2b82-bf28-40cf-bd1a-7901225c0885           1            Completed</span></span>
<span><span class="co">#&gt; 20: 605afedd-19e6-4941-b51c-b12d885274eb            1 a67d2b82-bf28-40cf-bd1a-7901225c0885           1            Completed</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="quick-statistics-attention-this-call-is-currently-returning-a-500-error-the-survey-solutions-team-is-working-on-it-">Quick statistics –&gt; Attention: this call is currently returning a
500 error, the Survey Solutions team is working on it.<a class="anchor" aria-label="anchor" href="#quick-statistics-attention-this-call-is-currently-returning-a-500-error-the-survey-solutions-team-is-working-on-it-"></a>
</h2>
<p>To monitor variables of interest, you can use the
<em>suso_get_stats</em> function.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># statquest&lt;-suso_get_stats(questID = questlist[1, QuestionnaireId], workspace = 'test', version = questlist[1, Version], qQuest = questionnaire[19, PublicKey]) print(statquest)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="full-data-export">Full data export<a class="anchor" aria-label="anchor" href="#full-data-export"></a>
</h2>
<p>To export the data collected in Survey Solutions, you use
<em>suso_export</em>.</p>
<pre><code><span><span class="co">#&gt; The last file has been created 0.06833 hours ago.</span></span>
<span><span class="co">#&gt; FileName: assignment__actions </span></span>
<span><span class="co">#&gt; Nesting Level: 0 </span></span>
<span><span class="co">#&gt; ****</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; FileName: households </span></span>
<span><span class="co">#&gt; Nesting Level: 1 </span></span>
<span><span class="co">#&gt; ****</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; FileName: interview__actions </span></span>
<span><span class="co">#&gt; Nesting Level: 0 </span></span>
<span><span class="co">#&gt; ****</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; FileName: interview__diagnostics </span></span>
<span><span class="co">#&gt; Nesting Level: 0 </span></span>
<span><span class="co">#&gt; ****</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; FileName: interview__errors </span></span>
<span><span class="co">#&gt; Nesting Level: 0 </span></span>
<span><span class="co">#&gt; ****</span></span></code></pre>
<p>Its return value is a list with the following elememts: main, R1, R2,
R3, with - <strong>main</strong> containing the files:
interview__comments, kasai_listing1 - <strong>R1</strong> containing all
rosters at the first level - <strong>R2</strong> containing all rosters
at the second level - <strong>R3</strong> containing all rosters at the
third level</p>
<p>through the harmonized ID, main and rosterfiles can easily be put
together. More on this in the specific vignette.</p>
</div>
<div class="section level2">
<h2 id="paradata">Paradata<a class="anchor" aria-label="anchor" href="#paradata"></a>
</h2>
<p>To retrieve the paradata for a particular interview you use
<em>suso_export_paradata</em></p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/system.time.html" class="external-link">system.time</a></span><span class="op">(</span><span class="va">para1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/suso_export_paradata.html">suso_export_paradata</a></span><span class="op">(</span>questID <span class="op">=</span> <span class="va">questlist</span><span class="op">[</span><span class="fl">1</span>, <span class="va">QuestionnaireId</span><span class="op">]</span>, workspace <span class="op">=</span> <span class="st">"test"</span>, version <span class="op">=</span> <span class="va">questlist</span><span class="op">[</span><span class="fl">1</span>, <span class="va">Version</span><span class="op">]</span>, reloadTimeDiff <span class="op">=</span> <span class="fl">24</span>, onlyActiveEvents <span class="op">=</span> <span class="cn">F</span>, allResponses <span class="op">=</span> <span class="cn">T</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; The last file has been created 1 hours ago.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Starting download &amp; file extraction. </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Calculating Response Timings.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Extracting GPS variable.</span></span>
<span><span class="co">#&gt; Processing: </span></span>
<span><span class="co">#&gt;  AnswerSet</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  AnswerRemoved</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  ApproveByHeadquarter</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  Restarted</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  Reject</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  QuestionDeclaredInvalid</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  QuestionDeclaredValid</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Export &amp; Transformation finished.</span></span>
<span><span class="co">#&gt;    user  system elapsed </span></span>
<span><span class="co">#&gt;   0.536   0.036   0.820</span></span></code></pre></div>
<p>This will return a list of data.tables, separated by events. Please
bear in mind, that paradata files can be fairly big, and processing it
may require a large working memory. To decrease the load there are also
3 parameters you can change, these are:</p>
<ul>
<li>
<strong>onlyActiveEvents</strong>, if TRUE it processes only the
active events initiated by users.</li>
<li>
<strong>allResponses</strong>, if FALSE, does not process all
response values, nevertheless they are still included in a single
column. Otherwise, they are separated by column.</li>
</ul>
<p>Running the same call again without passive events and without all
responses processed, reduces processing time significantly.</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/system.time.html" class="external-link">system.time</a></span><span class="op">(</span><span class="va">para2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/suso_export_paradata.html">suso_export_paradata</a></span><span class="op">(</span>questID <span class="op">=</span> <span class="va">questlist</span><span class="op">[</span><span class="fl">1</span>, <span class="va">QuestionnaireId</span><span class="op">]</span>, workspace <span class="op">=</span> <span class="st">"test"</span>, version <span class="op">=</span> <span class="va">questlist</span><span class="op">[</span><span class="fl">1</span>, <span class="va">Version</span><span class="op">]</span>, reloadTimeDiff <span class="op">=</span> <span class="fl">24</span>, onlyActiveEvents <span class="op">=</span> <span class="cn">T</span>, allResponses <span class="op">=</span> <span class="cn">F</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; The last file has been created 1 hours ago.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Starting download &amp; file extraction. </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Calculating Response Timings.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Extracting GPS variable.</span></span>
<span><span class="co">#&gt; Processing: </span></span>
<span><span class="co">#&gt;  AnswerSet</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  AnswerRemoved</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  ApproveByHeadquarter</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  Restarted</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  Reject</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Export &amp; Transformation finished.</span></span>
<span><span class="co">#&gt;    user  system elapsed </span></span>
<span><span class="co">#&gt;   0.524   0.028   0.818</span></span></code></pre></div>
<p>As you see from the system timings, changing these parameters reduces
processing time significantly. More details on how to work with paradata
can be found in the corresponding vignette. The paradata export is
returned as a list, with the following elements:</p>
<ul>
<li>
<strong>full data</strong>: KeyAssigned, Completed, AnswerSet,
AnswerRemoved, Restarted, Reject, QuestionDeclaredInvalid,
QuestionDeclaredValid, actionDistr, userDistr, roleDistr</li>
<li>
<strong>reduced data</strong>: KeyAssigned, Completed, AnswerSet,
AnswerRemoved, Restarted, Reject, actionDistr, userDistr, roleDistr</li>
</ul>
<p>There are also tables already included in the file, like:</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">para2</span><span class="op">[[</span><span class="st">"userDistr"</span><span class="op">]</span><span class="op">]</span></span>
<span><span class="co">#&gt;    responsible count</span></span>
<span><span class="co">#&gt; 1:               918</span></span>
<span><span class="co">#&gt; 2:        int1   804</span></span></code></pre></div>
<p>which gives the distribution of events by user, or:</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">para2</span><span class="op">[[</span><span class="st">"actionDistr"</span><span class="op">]</span><span class="op">]</span></span>
<span><span class="co">#&gt;                      action count</span></span>
<span><span class="co">#&gt;  1:   QuestionDeclaredValid   747</span></span>
<span><span class="co">#&gt;  2:               AnswerSet   646</span></span>
<span><span class="co">#&gt;  3:             VariableSet   129</span></span>
<span><span class="co">#&gt;  4:                 Resumed    25</span></span>
<span><span class="co">#&gt;  5:                  Paused    25</span></span>
<span><span class="co">#&gt;  6:     TranslationSwitched    23</span></span>
<span><span class="co">#&gt;  7:             KeyAssigned    17</span></span>
<span><span class="co">#&gt;  8:        InterviewCreated    17</span></span>
<span><span class="co">#&gt;  9:      SupervisorAssigned    17</span></span>
<span><span class="co">#&gt; 10:    InterviewModeChanged    17</span></span>
<span><span class="co">#&gt; 11:     InterviewerAssigned    17</span></span>
<span><span class="co">#&gt; 12:               Completed    17</span></span>
<span><span class="co">#&gt; 13:    ReceivedBySupervisor    16</span></span>
<span><span class="co">#&gt; 14: QuestionDeclaredInvalid     9</span></span></code></pre></div>
<p>which gives the distribution by event type.</p>
</div>
<div class="section level2">
<h2 id="map-management">Map management<a class="anchor" aria-label="anchor" href="#map-management"></a>
</h2>
<p>Since recently, it is now also possible, to handle maps through the
API. This is implemented through the lately introduced GraphQL API.</p>
<p>To upload a map, you can just use the <strong>suso_mapupload</strong>
function like this:</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/suso_mapupload.html">suso_mapupload</a></span><span class="op">(</span>workspace <span class="op">=</span> <span class="st">"test"</span>, path_to_zip <span class="op">=</span> <span class="va">mapPath</span><span class="op">)</span></span>
<span><span class="co">#&gt;    xMaxVal yMaxVal xMinVal yMinVal wkid             fileName  size maxScale minScale shapeType       importDateUtc                           uploadedBy     users</span></span>
<span><span class="co">#&gt; 1:  -78.39    26.8  -78.62   26.55 4326 checkshapesimple.shp 20467        0        0   Polygon 2023-02-16 17:24:47 961d073f-f316-4353-9e7e-1f00899cb837 &lt;list[0]&gt;</span></span></code></pre></div>
<p>To assign a map you can use the <strong>suso_mapassign</strong>
function:</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/suso_mapassign.html">suso_mapassign</a></span><span class="op">(</span>workspace <span class="op">=</span> <span class="st">"test"</span>, fileName <span class="op">=</span> <span class="st">"checkshapesimple.shp"</span>, userName <span class="op">=</span> <span class="st">"INT0004"</span><span class="op">)</span></span>
<span><span class="co">#&gt;                fileName    user shapeType       importDateUtc</span></span>
<span><span class="co">#&gt; 1: checkshapesimple.shp INT0004   Polygon 2023-02-16 17:24:47</span></span></code></pre></div>
<p>And to check the current maps on the server, and to whom they are
assigned, you can use:</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/suso_mapinfo.html">suso_mapinfo</a></span><span class="op">(</span>workspace <span class="op">=</span> <span class="st">"test"</span><span class="op">)</span></span>
<span><span class="co">#&gt;                  fileName maxScale minScale shapeType shapesCount    size       importDateUtc                           uploadedBy userName   xMaxVal     yMaxVal   xMinVal</span></span>
<span><span class="co">#&gt; 1: seg_Lat14701Lon379.shp        0        0   Polygon           4    1558 2023-01-26 16:07:54 25628149-1164-4405-b2a2-41a114700215  INT0004 171407.96 5229062.505 171313.10</span></span>
<span><span class="co">#&gt; 2: seg_Lat14701Lon379.shp        0        0   Polygon           4    1558 2023-01-26 16:07:54 25628149-1164-4405-b2a2-41a114700215  INT0005 171407.96 5229062.505 171313.10</span></span>
<span><span class="co">#&gt; 3: seg_Lat14703Lon375.shp        0        0   Polygon           4    1558 2023-01-26 16:07:55 25628149-1164-4405-b2a2-41a114700215     &lt;NA&gt; 165982.27 5231732.606 165887.31</span></span>
<span><span class="co">#&gt; 4: seg_Lat14706Lon376.shp        0        0   Polygon           4    1558 2023-01-26 16:07:55 25628149-1164-4405-b2a2-41a114700215     &lt;NA&gt; 166739.20 5236147.192 166644.21</span></span>
<span><span class="co">#&gt; 5:   checkshapesimple.shp        0        0   Polygon           1   20467 2023-02-16 17:24:47 961d073f-f316-4353-9e7e-1f00899cb837  INT0004    -78.39      26.798    -78.62</span></span>
<span><span class="co">#&gt; 6:  Lat9260Lon650_ALL.tif        0        0      &lt;NA&gt;          NA 8658427 2023-02-15 22:16:05 25628149-1164-4405-b2a2-41a114700215     &lt;NA&gt;     22.37      -6.681     22.36</span></span>
<span><span class="co">#&gt; 7:  Lat9263Lon605_ALL.tif        0        0      &lt;NA&gt;          NA 8643131 2023-02-15 22:16:06 25628149-1164-4405-b2a2-41a114700215     &lt;NA&gt;     21.96      -6.654     21.95</span></span>
<span><span class="co">#&gt; 8:  Lat9263Lon686_ALL.tif        0        0      &lt;NA&gt;          NA 8663511 2023-02-15 22:16:07 25628149-1164-4405-b2a2-41a114700215     &lt;NA&gt;     22.69      -6.652     22.68</span></span>
<span><span class="co">#&gt; 9:  Lat9264Lon625_ALL.tif        0        0      &lt;NA&gt;          NA 2165023 2023-02-15 22:16:07 25628149-1164-4405-b2a2-41a114700215     &lt;NA&gt;     22.14      -6.645     22.13</span></span>
<span><span class="co">#&gt;        yMinVal wkid</span></span>
<span><span class="co">#&gt; 1: 5228935.260 4326</span></span>
<span><span class="co">#&gt; 2: 5228935.260 4326</span></span>
<span><span class="co">#&gt; 3: 5231605.274 4326</span></span>
<span><span class="co">#&gt; 4: 5236019.808 4326</span></span>
<span><span class="co">#&gt; 5:      26.546 4326</span></span>
<span><span class="co">#&gt; 6:      -6.690 4326</span></span>
<span><span class="co">#&gt; 7:      -6.663 4326</span></span>
<span><span class="co">#&gt; 8:      -6.662 4326</span></span>
<span><span class="co">#&gt; 9:      -6.654 4326</span></span></code></pre></div>
<p>We hope that gave you a short overview on the available functions.
For more details on how to use the output, please read the specific
vignettes.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Michael Wild.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
